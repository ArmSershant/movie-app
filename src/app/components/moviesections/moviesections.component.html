<main class="w-full flex flex-wrap content-start justify-center bg-white mt-16">
  <section
    *ngIf="movies$ | async as movies"
    class="w-[1300px] flex flex-wrap justify-center content-start items-start"
    [ngClass]="bgImg ? img : ''"
  >
    <!-- column wrapper -->
    <div class="w-full flex justify-center items-start content-start">
      <!-- content wrapper -->
      <div class="py-0 w-full flex items-start content-start flex-wrap">
        <!-- column -->
        <div class="w-full">
          <!-- column header -->
          <div class="px-[40px]">
            <h2 class="mr-[20px] text-[1.5em] whitespace-nowrap">
              {{ title }}
            </h2>
            <!-- selector wrap -->
            <div>
              <!-- selector -->
              <div
                class="flex justify-start items-stretch content-center rounded-[30px]"
              >
                <!-- anchor -->
                <div
                  (click)="getMoviesByDate(tab)"
                  class="relative top-0 left-0 z-1 box-border block"
                  *ngFor="let tab of tabs"
                >
                  <div
                    class="text-sm font-medium text-center text-gray-500 border-b border-gray-200 dark:text-gray-400 dark:border-gray-700"
                  >
                    <ul class="flex flex-wrap -mb-px">
                      <li class="mr-2">
                        <a
                          class="inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 cursor-pointer"
                          >{{ tab }}</a
                        >
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- scroller -->
          <!-- should map the fetched items -->
          <div class="relative top-0 left-0">
            <!-- flex scroller -->
            <div
              class="scrollbar-thin scrollbar-thumb-pink-300 w-full max-w-[1300px] overflow-x-scroll overflow-y-hidden transition duration-500 ease-linear delay-0 h-[379px]"
            >
              <!-- column content -->
              <div
                class="flex justify-start items-start content-start py-[20px]"
              >
                <!-- card -->
                <div
                  *ngFor="let movie of movies.results"
                  class="ml-[40px] w-[150px] min-w-[150px] bg-transparent shadow-none border-none mt-0 overflow-visible"
                >
                  <!-- div image -->
                  <div class="shadow-md rounded-[8px] w-full h-48 bg-gray-300">
                    <!-- wrapper -->
                    <div
                      class="w-full h-full relative top-0 left-0 inline-block"
                    >
                      <a
                        class="inline-block w-full h-full rounded-sm"
                        [title]="movie.original_title"
                      >
                        <img
                          [src]="
                            'https://www.themoviedb.org/t/p/w220_and_h330_face' +
                            movie.backdrop_path
                          "
                          loading="lazy"
                          alt=""
                          class="inline-block w-full h-full outline-none border-none rounded-md"
                        />
                      </a>
                      <!-- options -->
                      <div
                        class="absolute top-[8px] right-[8px] z-4 opacity-[0.4] hover:opacity-100"
                      >
                        <a
                          href=""
                          class="no-underline font-normal bg-transparent"
                        >
                          <img
                            class="text-[1.6em] relative top-0 left-0 inline-flex items-center content-center min-w-[1em] min-h-[1em] w-[1em] h-[1em] leading-[inherit] bg-no-repeat box-border"
                            src="https://www.themoviedb.org/assets/2/v4/glyphicons/basic/glyphicons-basic-947-circle-more-white-4c440dfc1b0e626c70f4853dbbce9c4d1f2c5d8f3e05a7d3df47881cbd816adf.svg"
                          />
                        </a>
                      </div>
                    </div>
                    <!-- content -->
                    <div
                      class="w-full relative whitespace-normal text-black flex content-start flex-wrap pt-[26px] pb-[10px] pl-[12px] pr-[10px] flex-col"
                    >
                      <!-- consesus tight -->
                      <div
                        class="absolute top-[-19px] left-[10px] w-[38px] h-[38px] box-border inline-block transition-all scale-1"
                      >
                        <!-- outer ring -->
                        <div
                          class="w-[38px] h-[38px] p-[2px] inline-block rounded-[50%] bg-black box-border"
                        >
                          <!-- user score -->
                          <div
                            class="relative inline-block w-full h-full text-center box-border"
                          >
                            <!-- percent -->
                            <div
                              class="w-full h-full z-2 flex items-center justify-center box-border"
                            >
                              <span
                                class="pt-[1px] pl-[1px] text-[0.9em] text-white font-bold transform-none leading-[1] box-border"
                                >{{
                                  movie.vote_average * 10 | number : "1.0-0"
                                }}%</span
                              >
                            </div>
                            <canvas
                              height="34"
                              width="34"
                              class="bg-transparent text-red-900 absolute top-0 left-0 box-border inline-block align-baseline aspect-auto"
                            ></canvas>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="movie.original_title">
                        <h2>
                          <a
                            class="text-sm font-bold hover:text-blue-400 cursor-pointer"
                            [title]="movie.original_title"
                            >{{ movie.original_title }}</a
                          >
                        </h2>
                        <p class="text-sm">{{ movie.release_date }}</p>
                      </div>
                      <div *ngIf="movie.original_name">
                        <h2>
                          <a
                            class="text-sm font-bold hover:text-blue-400 cursor-pointer"
                            [title]="movie.original_name"
                            >{{ movie.original_name }}</a
                          >
                        </h2>
                        <p class="text-sm">{{ movie.release_date }}</p>
                      </div>
                    </div>

                    <div
                      class="hidden absolute top-0 left-0 bg-black bg-opacity-50 backdrop-filter backdrop-blur-lg w-full h-full rounded-md z-5 transition duration-100 opacity-0"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </section>
</main>
